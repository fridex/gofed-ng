<h2>How To</h2>

This section discusses about gofed-ng, its installation, configuration and
user development. Make sure that you are familiar with basic idea and goals
behind gofed-ng listed in section <a href="#overview"></a> before proceeding.

<hr />
<h3>How To Run gofed</h3>

If you want to run gofed-ng, you have to install it first. The easiest way how
to do it is to let your package manager do the dirty work for you. You can
install gofed-ng by running on Fedora 23.

<pre><code class="bash">
$ sudo dnf install -y gofed
</code></pre>

After successful installation, you should have ready to run gofed application in
your <code>$PATH</code>. Let's try it our:

<pre><code class="bash">
$ gofed --help
# ...
</code></pre>

Now you are ready to use gofed-ng system. If you have special needs, you can
configure your gofed-ng as desired.

<hr />
<h3>How To Configure gofed-ng</h3>

TODO: config options, remote/local service configuration

<pre><code class="bash">
$ cat /etc/gofed/gofed.conf
# ...
</code></pre>

<hr />
<h3>How To Explore gofed-ng Internals</h3>

<p>
If you want to have a look at gofed-ng internals, you can visit our git tree
located on <a href="https://github.com/gofed/gofed-ng">github</a>. A brief
architecture overview can be found in section <a
href="#architecture">Architecture</a>. Feel free to play with this tool. If
you notice some troubles, help us with improving gofed-ng by reporting issues in
our <a href="https://github.com/gofed/gofed-ng/issues/">issues tracker</a>. We
will be grateful for any feedback.

<hr />
<h3>How To Bootstrap</h3>

The key part of gofed-ng is fully automated system that will do all dirty work
for you. The only thing you will have to focus on are actual results. The system
of gofed-ng was designed to help you as much as possible and guide you with your
development. so there was introduced an application above gofed-ng --
<code>bootstrap.py</code>.

<code>bootstrap.py</code> will analyze your source code, do sanity checks and
generate files needed to run your service or scenario. If you are writing
a Scenario or actual Service, just hit:

<pre><code class="bash">
$ ./bootstrap.py
# ...
</code></pre>

in top of the gofed-ng git tree. You will see information messages, warnings or
even errors, which were detect even before your code entered gofed-ng system.
Run <code>bootstrap.py</code> with <code>--help</code> parameter to see all
available options.

If your code is passing well, <code>bootstrap.py</code> should generate
<code>gofed.conf</code>, <code>system.json</code> and configuration files for
all Services.

<hr />
<h3>How To Write a Scenario</h3>

<p>
Writing a scenario is as easy as firring up your favorite Python editor. Let's
immediately dive into the code:

<pre><code class="python">
from scenarios.abstractScenario import AbstractScenario

class UserScenario(AbstractScenario):
	def run(self, system):
		data = system.get_project_api("k8s", "git-hash")
		out1 = system.action1()
		out2 = system.action2(out1)
		return out2
</code></pre>

<div class="alert alert-warning" role="alert">
	Warning!
</div>

<div class="alert alert-danger" role="alert">
	Danger!
</div>

TODO: errors, available helpers (e.g. <code>is_local()</code>, ...), result object, ...

<hr />
<h3>How To Write a Service</h3>

<pre><code class="python">
from common.service.service import ComputationalService
from common.service.serviceEnvelope import ServiceEnvelope

class ExampleService(ComputationalService):
	''' This is an example of a service '''

	@classmethod
	def signal_startup(cls, config):
		pass

	@classmethod
	def signal_termination(cls):
		pass

	def signal_connect(self):
		pass

	def signal_disconnect(self):
		pass

	def signal_process(self):
		pass

	def signal_processed(self):
		pass

	def exposed_action(self, arg):
		''' Exposed action of this service'''
		return "result"

if __name__ == "__main__":
	ServiceEnvelope.serve(ExampleService)
</code></pre>

TODO explain (remote/local):
<ul>
  <li><code>signal_startup(cls, config)</code> - TODO</li>
  <li><code>signal_termination(cls)</code> - TODO</li>
  <li><code>signal_connect(self)</code> - TODO</li>
  <li><code>signal_disconnect(self)</code> - TODO</li>
  <li><code>signal_process(self)</code> - TODO</li>
  <li><code>signal_processed(self)</code> - TODO</li>
  <li><code>exposed_action(self, arg)</code> - TODO</li>
</ul>

TODO explain reserved:
<ul>
  <li><code>__init__(self)</code> - TODO</li>
  <li><code>on_connect(self)</code> - TODO</li>
  <li><code>on_disconnect(self)</code> - TODO</li>
</ul>


<script src="js/highlight.pack.js"></script>
<script type="text/javascript">
  jQuery(function($) {
    $(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });
  });
</script>

